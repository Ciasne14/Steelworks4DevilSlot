[gd_scene load_steps=28 format=3 uid="uid://dmvikv0mb22rk"]

[ext_resource type="Script" uid="uid://vt46scjtgrst" path="res://slot_machine.gd" id="1_agdmm"]
[ext_resource type="PackedScene" uid="uid://cd5gb2jidlllp" path="res://roll_particle.tscn" id="2_nmlme"]
[ext_resource type="PackedScene" uid="uid://x8d80h7ki5jx" path="res://shader.tscn" id="3_4tvcy"]
[ext_resource type="Texture2D" uid="uid://bh2swlv2fs3py" path="res://Assets/arms/image1.png" id="3_842tv"]
[ext_resource type="Texture2D" uid="uid://r857088babo4" path="res://Assets/arms/image2.png" id="4_7abct"]
[ext_resource type="Script" uid="uid://bkfjb6afvr3po" path="res://arm_controller.gd" id="4_jfulg"]
[ext_resource type="Texture2D" uid="uid://j1br35jeclu5" path="res://Assets/arms/image4.png" id="5_kpwbf"]
[ext_resource type="Texture2D" uid="uid://dpe7b2qe316pu" path="res://Assets/arms/image9.png" id="6_kpwbf"]
[ext_resource type="Texture2D" uid="uid://d211u1lc228fh" path="res://Assets/arms/image11.png" id="7_jfulg"]
[ext_resource type="Texture2D" uid="uid://bxee2hdx6agca" path="res://Assets/arms/image7.png" id="9_bjjkd"]
[ext_resource type="Texture2D" uid="uid://bhd7xjn1ba63" path="res://Assets/arms/image8.png" id="10_3ucdj"]
[ext_resource type="Texture2D" uid="uid://cs4slsr7xcofl" path="res://Assets/arms/image6.png" id="11_4tvcy"]
[ext_resource type="Shader" uid="uid://rj8jjtxjeb23" path="res://slot_machine.gdshader" id="12_3ucdj"]
[ext_resource type="Texture2D" uid="uid://5hix8318c22k" path="res://panel.png" id="13_et0hv"]
[ext_resource type="AudioStream" uid="uid://c2mjx4yfvqyau" path="res://woo.mp3" id="14_wxo0u"]
[ext_resource type="AudioStream" uid="uid://d1yesgg46vfdf" path="res://background.mp3" id="15_fj6df"]
[ext_resource type="AudioStream" uid="uid://dkelksoqhxgdb" path="res://chain.mp3" id="16_gdvkg"]
[ext_resource type="AudioStream" uid="uid://bdht7kreiu4l6" path="res://haha.mp3" id="17_2vf6k"]
[ext_resource type="PackedScene" uid="uid://c6qd0tnlmg70k" path="res://last_particle.tscn" id="19_r7rpn"]
[ext_resource type="Texture2D" uid="uid://dr2towgkdq86a" path="res://button.png" id="20_h3lt6"]
[ext_resource type="FontFile" uid="uid://bfu223jr6vile" path="res://October Crow.ttf" id="21_qbg7i"]
[ext_resource type="VideoStream" uid="uid://bk8taou5eme5k" path="res://win.ogv" id="22_vgm0d"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4tvcy"]
shader = ExtResource("12_3ucdj")
shader_parameter/speed = 0.1
shader_parameter/pixelation = 8.0
shader_parameter/zoom = 2.0
shader_parameter/gradient_pixelation = 0.2
shader_parameter/background_threshold = 0.0
shader_parameter/color_low_threshold = 0.24
shader_parameter/color_mid_threshold = 0.48
shader_parameter/color_low = Color(0.01, 0.41, 0.51, 1)
shader_parameter/color_mid = Color(0.5, 0.1, 0.3, 1)
shader_parameter/color_high = Color(1, 1, 1, 1)

[sub_resource type="Animation" id="Animation_vgm0d"]
resource_name = "PlayAnim"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control/Info:theme_override_font_sizes/font_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.1, 0.3, 0.56666666, 0.9, 1.5666667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [15, 30, 50, 90, 50]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Control:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.03333334, 0.43333334, 0.8333333, 1.2666667, 1.5666667, 1.8666667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 1.5707963267948966, 3.141592653589793, 6.283185307179586, 7.853981633974483, 12.566370614359172]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Control:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.8, 1.8666667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(290, 97), Vector2(649, -28), Vector2(877, 200)]
}

[sub_resource type="Animation" id="Animation_mcdas"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control/Info:theme_override_font_sizes/font_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [null]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Control:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Control:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(877, 185)]
}

[sub_resource type="Animation" id="Animation_4v34l"]
resource_name = "PlayIdle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Control:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(830, 250), Vector2(860, 280), Vector2(890, 310), Vector2(860, 280), Vector2(830, 250)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Control/Info:theme_override_font_sizes/font_size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [80, 90, 80, 90, 80]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4v34l"]
_data = {
&"PlayAnim": SubResource("Animation_vgm0d"),
&"PlayIdle": SubResource("Animation_4v34l"),
&"RESET": SubResource("Animation_mcdas")
}

[node name="slot_machine" type="Node"]
script = ExtResource("1_agdmm")
symbols = [null]
roll_particle = ExtResource("2_nmlme")
last_particle = ExtResource("19_r7rpn")

[node name="Shader" parent="." instance=ExtResource("3_4tvcy")]
anchors_preset = -1
anchor_left = -0.34100002
anchor_top = -0.049000002
anchor_right = 0.65900004
anchor_bottom = 0.90500003
offset_left = -148.51996
offset_top = -442.72
offset_right = 200.47998
offset_bottom = 167.39996

[node name="Node2D" type="Node2D" parent="."]

[node name="Image1" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(-354.00003, 616)
rotation = 0.457966
scale = Vector2(0.15830375, 0.2874525)
texture = ExtResource("3_842tv")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image2" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(627.00006, 622)
rotation = -0.3388251
scale = Vector2(0.15563402, 0.36146402)
texture = ExtResource("4_7abct")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image4" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(845, 199)
rotation = -1.1543622
scale = Vector2(0.37438482, 0.8776663)
texture = ExtResource("5_kpwbf")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image9" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(1075, 477)
rotation = -1.1410207
scale = Vector2(0.67237383, -0.8637513)
texture = ExtResource("6_kpwbf")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image11" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(-258, 555)
texture = ExtResource("7_jfulg")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image3" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(-187.00005, 165.99998)
rotation = 1.1755342
scale = Vector2(0.44328058, 0.7055533)
texture = ExtResource("4_7abct")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image7" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(480, 582)
texture = ExtResource("9_bjjkd")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image8" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(-619, 856)
texture = ExtResource("10_3ucdj")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image6" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(388, 636)
texture = ExtResource("11_4tvcy")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="Image5" type="Sprite2D" parent="Node2D" node_paths=PackedStringArray("sprite")]
modulate = Color(0.44313726, 0.41568628, 0.3019608, 1)
position = Vector2(65, 731)
texture = ExtResource("4_7abct")
script = ExtResource("4_jfulg")
sprite = NodePath(".")

[node name="SlotMachine" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="SlotMachine"]
modulate = Color(0.52958363, 0.34156948, 0.114938445, 1)
position = Vector2(198.74998, 301.00003)
scale = Vector2(1.4639889, 1.7354262)
texture = ExtResource("13_et0hv")

[node name="Sprite2D2" type="Sprite2D" parent="SlotMachine"]
modulate = Color(0.7387509, 0.23938975, 0.8250599, 1)
position = Vector2(198.74998, 301.00003)
scale = Vector2(1.4224375, 1.704036)
texture = ExtResource("13_et0hv")

[node name="Sprite2D3" type="Sprite2D" parent="SlotMachine"]
modulate = Color(0.26657522, 0.2665752, 0.2665752, 1)
position = Vector2(199, 160.5)
scale = Vector2(1.3850416, 0.9932736)
texture = ExtResource("13_et0hv")

[node name="Button" type="Button" parent="."]
custom_minimum_size = Vector2(442, 50)
offset_left = -22.0
offset_top = 426.0
offset_right = 420.0
offset_bottom = 457.0
disabled = true
text = "Spin
"

[node name="SpinTimer" type="Timer" parent="Button"]
wait_time = 2.0
one_shot = true

[node name="ResultTimer" type="Timer" parent="Button"]
one_shot = true

[node name="btn1" type="Button" parent="."]
custom_minimum_size = Vector2(68, 68)
offset_left = -34.0
offset_top = 600.0
offset_right = 34.0
offset_bottom = 668.0
text = "+ 1
"

[node name="btn5" type="Button" parent="."]
custom_minimum_size = Vector2(68, 68)
offset_left = 66.0
offset_top = 600.0
offset_right = 134.0
offset_bottom = 668.0
text = "+ 5
"

[node name="btn5timer" type="Timer" parent="btn5"]
wait_time = 0.3
one_shot = true

[node name="btn2" type="Button" parent="."]
custom_minimum_size = Vector2(68, 68)
offset_left = 166.0
offset_top = 600.0
offset_right = 234.0
offset_bottom = 668.0
disabled = true
text = "X 2
"

[node name="btn10" type="Button" parent="."]
custom_minimum_size = Vector2(68, 68)
offset_left = 266.0
offset_top = 600.0
offset_right = 334.0
offset_bottom = 668.0
disabled = true
text = "X 10
"

[node name="btn25" type="Button" parent="."]
custom_minimum_size = Vector2(68, 68)
offset_left = 366.0
offset_top = 600.0
offset_right = 434.0
offset_bottom = 668.0
disabled = true
text = "X 25
"

[node name="Label" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0

[node name="Camera2D" type="Camera2D" parent="."]
material = SubResource("ShaderMaterial_4tvcy")
position = Vector2(200, 300)
scale = Vector2(0.5, 1)

[node name="AvailablePanel" type="Panel" parent="."]
custom_minimum_size = Vector2(130, 70)
offset_left = -34.0
offset_top = 500.0
offset_right = 96.0
offset_bottom = 570.0

[node name="AvailableTickets" type="Label" parent="AvailablePanel"]
custom_minimum_size = Vector2(130, 69)
layout_mode = 0
offset_right = 130.0
offset_bottom = 69.0
text = "100"
horizontal_alignment = 1
vertical_alignment = 1

[node name="BetPanel" type="Panel" parent="."]
custom_minimum_size = Vector2(130, 68)
offset_left = 138.0
offset_top = 500.0
offset_right = 268.0
offset_bottom = 568.0

[node name="Bet" type="Label" parent="BetPanel"]
custom_minimum_size = Vector2(130, 68)
layout_mode = 0
offset_right = 130.0
offset_bottom = 68.0
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="LastWon" type="Panel" parent="."]
custom_minimum_size = Vector2(130, 68)
offset_left = 300.0
offset_top = 500.0
offset_right = 430.0
offset_bottom = 568.0

[node name="LastWon2" type="Label" parent="LastWon"]
custom_minimum_size = Vector2(130, 68)
layout_mode = 0
offset_right = 130.0
offset_bottom = 68.0
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Sounds" type="Node2D" parent="."]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("14_wxo0u")
pitch_scale = 1.91

[node name="AudioStreamPlayer2D2" type="AudioStreamPlayer2D" parent="Sounds"]
position = Vector2(1288, 658)
stream = ExtResource("14_wxo0u")

[node name="AudioStreamPlayer2D3" type="AudioStreamPlayer2D" parent="Sounds"]
position = Vector2(1280, -9)
stream = ExtResource("14_wxo0u")

[node name="AudioStreamPlayer2D4" type="AudioStreamPlayer2D" parent="Sounds"]
position = Vector2(2, 720)
stream = ExtResource("14_wxo0u")

[node name="Background" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("15_fj6df")
volume_db = 0.1
autoplay = true
parameters/looping = true

[node name="Chain" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("16_gdvkg")

[node name="Haha" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("17_2vf6k")
volume_db = 15.0
pitch_scale = 0.68

[node name="Haha2" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("17_2vf6k")
volume_db = 15.0

[node name="Haha3" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("17_2vf6k")
volume_db = 15.0

[node name="Haha4" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("17_2vf6k")
volume_db = 15.0

[node name="Button2" type="Sprite2D" parent="."]
modulate = Color(0.47007585, 0.47007585, 0.47007585, 1)
position = Vector2(-288, -60.874992)
scale = Vector2(4.9551287, 0.63782036)
texture = ExtResource("20_h3lt6")

[node name="Button4" type="Sprite2D" parent="."]
position = Vector2(-288, 296.5625)
scale = Vector2(4.9551287, 9.0625)
texture = ExtResource("20_h3lt6")

[node name="Button3" type="Sprite2D" parent="."]
modulate = Color(0.23921569, 0.2, 0.13725491, 1)
position = Vector2(-288, 657)
scale = Vector2(4.9551287, 0.63782036)
texture = ExtResource("20_h3lt6")

[node name="Label2" type="Label" parent="."]
offset_left = -446.0
offset_top = 6.0
offset_right = -137.0
offset_bottom = 604.0
theme_override_fonts/font = ExtResource("21_qbg7i")
theme_override_font_sizes/font_size = 50
text = "The curse of seeing too much too clearly."
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2
justification_flags = 162

[node name="LastOrderTimer" type="Timer" parent="."]
wait_time = 3.0

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="."]
visible = false
offset_left = -436.0
offset_top = -67.0
offset_right = 844.0
offset_bottom = 653.0
stream = ExtResource("22_vgm0d")
volume_db = -80.0

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 877.0
offset_top = 185.0
offset_right = 916.99994
offset_bottom = 225.00049

[node name="Info" type="Label" parent="Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -211.4154
offset_top = -0.98773193
offset_right = 161.5846
offset_bottom = 68.01227
grow_horizontal = 2
grow_vertical = 2
rotation = 6.2831855
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(18.892157, 18.892157, 18.892157, 1)
theme_override_fonts/font = ExtResource("21_qbg7i")
text = "Wow, wygrałeś!"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_4v34l")
}

[node name="AnimCont" type="Timer" parent="AnimationPlayer"]
wait_time = 2.0
one_shot = true

[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
[connection signal="timeout" from="Button/ResultTimer" to="." method="_on_result_timer_timeout"]
[connection signal="pressed" from="btn1" to="." method="_on_btn_1_pressed"]
[connection signal="pressed" from="btn5" to="." method="_on_btn_5_pressed"]
[connection signal="timeout" from="btn5/btn5timer" to="." method="_on_btn_5_timer_timeout"]
[connection signal="pressed" from="btn2" to="." method="_on_btn_2_pressed"]
[connection signal="pressed" from="btn10" to="." method="_on_btn_10_pressed"]
[connection signal="pressed" from="btn25" to="." method="_on_btn_25_pressed"]
[connection signal="timeout" from="LastOrderTimer" to="." method="_on_last_order_timer_timeout"]
[connection signal="timeout" from="AnimationPlayer/AnimCont" to="." method="_on_anim_cont_timeout"]
